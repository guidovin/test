{"static_field":{
  "key":"nome_instituicao,nome_secretaria,cidade_instituicao,uf_instituicao,data_atual,hora_atual,aluno,nm_mae2,nm_pai2,nm_pai,nm_mae,sexo,data_nasc,nacionalidade,alfabetizado,religiao,municipio_nasc,municipio_uf,pais_origem,estado_civil,cpf_mae,cpf_pai,beneficio,numero,letra,bloco,andar,apartamento,complemento,cep,logradouro,municipio,sigla_uf,bairro,email,ddd,fone,deficiencia,cpf,rg,data_exp_rg,sigla_uf_exp_rg,orgao_emissor_rg,num_tit_eleitor,zona_tit_eleitor,secao_tit_eleitor,tipo_cert_civil,sigla_uf_cert_civil,data_emissao_cert_civil,num_termo,num_livro,num_folha,cartorio_cert_civil,certidao_nascimento,nome_responsavel,cpf_responsavel,sexo_responsavel,ddd_responsavel,fone_responsavel,email_responsavel,numero_responsavel,letra_responsavel,bloco_responsavel,andar_responsavel,apartamento_responsavel,cep_responsavel,logradouro_responsavel,municipio_responsavel,sigla_uf_responsavel,bairro_responsavel,nm_escola,foto",
 "value":"SELECT public.fcn_upper(nm_instituicao) AS nome_instituicao, public.fcn_upper(nm_responsavel) AS nome_secretaria, instituicao.cidade AS cidade_instituicao, public.fcn_upper(ref_sigla_uf) AS uf_instituicao, to_char(CURRENT_DATE,'dd/mm/yyyy') AS data_atual, to_char(current_timestamp, 'HH24:MI:SS') AS hora_atual, pessoa.nome as aluno, (SELECT PESSOA.NOME FROM FISICA AS F_ALUNO INNER JOIN PMIEDUCAR.ALUNO ON REF_IDPES = F_ALUNO.IDPES LEFT OUTER JOIN CADASTRO.PESSOA ON PESSOA.IDPES = F_ALUNO.IDPES_MAE WHERE COD_ALUNO = ${alunoid}) AS nm_mae2, (SELECT PESSOA.NOME FROM FISICA AS F_ALUNO INNER JOIN PMIEDUCAR.ALUNO ON REF_IDPES = F_ALUNO.IDPES LEFT OUTER JOIN CADASTRO.PESSOA ON PESSOA.IDPES = F_ALUNO.IDPES_PAI WHERE COD_ALUNO = ${alunoid} ) AS nm_pai2, aluno.nm_pai as nm_pai, aluno.nm_mae as nm_mae, fisica.sexo, to_char(fisica.data_nasc,'dd/mm/yyyy') AS data_nasc, (CASE WHEN fisica.nacionalidade = 1 THEN 'Brasileiro' WHEN fisica.nacionalidade = 2 THEN 'Naturalizado Brasileiro' ELSE 'Estrangeiro' END ) as nacionalidade, (CASE WHEN aluno.analfabeto = 0 THEN 'Sim' ELSE 'NÃ£o' END ) as alfabetizado, (select religiao.nm_religiao from pmieducar.religiao where religiao.cod_religiao = aluno.ref_cod_religiao ) as religiao, (select municipio.nome from public.municipio where municipio.idmun = fisica.idmun_nascimento ) as municipio_nasc, (select municipio.sigla_uf from public.municipio where municipio.idmun = fisica.idmun_nascimento ) as municipio_uf, (select pais.nome from public.pais where pais.idpais = fisica.idpais_estrangeiro ) as pais_origem, (select estado_civil.descricao from cadastro.estado_civil where estado_civil.ideciv = fisica.ideciv ) as estado_civil, (select COALESCE( (select fisica_cpf.cpf from cadastro.fisica_cpf where fisica_cpf.idpes = fisica.idpes_mae), (select fs.cpf from cadastro.fisica fs where fs.idpes = fisica.idpes_mae) ) ) as cpf_mae, (select COALESCE( (select fisica_cpf.cpf from cadastro.fisica_cpf where fisica_cpf.idpes = fisica.idpes_mae), (select fs.cpf from cadastro.fisica fs where fs.idpes = fisica.idpes_pai) ) ) as cpf_pai, (SELECT aluno_beneficio.nm_beneficio FROM pmieducar.aluno_beneficio WHERE pmieducar.aluno_beneficio.cod_aluno_beneficio = pmieducar.aluno.ref_cod_aluno_beneficio ) as beneficio, (select COALESCE( (select endereco_pessoa.numero from cadastro.endereco_pessoa where endereco_pessoa.idpes = pessoa.idpes), (select endereco_externo.numero from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as numero, (select COALESCE( (select endereco_pessoa.letra from cadastro.endereco_pessoa where endereco_pessoa.idpes = pessoa.idpes), (select endereco_externo.letra from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as letra, (select COALESCE( (select endereco_pessoa.bloco from cadastro.endereco_pessoa where endereco_pessoa.idpes = pessoa.idpes), (select endereco_externo.bloco from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as bloco, (select COALESCE( (select endereco_pessoa.andar from cadastro.endereco_pessoa where endereco_pessoa.idpes = pessoa.idpes), (select endereco_externo.andar from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as andar, (select COALESCE( (select endereco_pessoa.apartamento from cadastro.endereco_pessoa where endereco_pessoa.idpes = pessoa.idpes), (select endereco_externo.apartamento from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as apartamento, (select COALESCE( (select endereco_pessoa.complemento from cadastro.endereco_pessoa where endereco_pessoa.idpes = pessoa.idpes), (select endereco_externo.complemento from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as complemento, (select COALESCE( (select endereco_pessoa.cep from cadastro.endereco_pessoa where endereco_pessoa.idpes = pessoa.idpes), (select endereco_externo.cep from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as cep, (select COALESCE( (select logradouro.nome from public.logradouro, cadastro.endereco_pessoa where logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = pessoa.idpes ), (select endereco_externo.logradouro from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as logradouro, (select COALESCE( (select municipio.nome from public.municipio, public.logradouro, cadastro.endereco_pessoa where municipio.idmun = logradouro.idmun AND logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = pessoa.idpes ), (select endereco_externo.cidade from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as municipio, (select COALESCE( (select municipio.sigla_uf from public.municipio, public.logradouro, cadastro.endereco_pessoa where municipio.idmun = logradouro.idmun AND logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = pessoa.idpes ), (select endereco_externo.sigla_uf from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as sigla_uf, (select COALESCE( (select min(bairro.nome) from public.bairro, public.municipio, public.logradouro, cadastro.endereco_pessoa where bairro.idmun = municipio.idmun AND municipio.idmun = logradouro.idmun AND logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = aluno.ref_idpes AND endereco_pessoa.idbai = bairro.idbai ), (select endereco_externo.bairro from cadastro.endereco_externo where endereco_externo.idpes = aluno.ref_idpes) ) ) as bairro, pessoa.email, (select min(fone_pessoa.ddd) from cadastro.fone_pessoa where fone_pessoa.idpes = pessoa.idpes) as ddd, (select min(fone_pessoa.fone) from cadastro.fone_pessoa where fone_pessoa.idpes = pessoa.idpes) as fone, (select min(deficiencia.nm_deficiencia) from cadastro.deficiencia, cadastro.fisica_deficiencia where deficiencia.cod_deficiencia = fisica_deficiencia.ref_cod_deficiencia AND fisica_deficiencia.ref_idpes = fisica.idpes ) as deficiencia, (select COALESCE(fisica_cpf.cpf,fisica.cpf) from cadastro.fisica_cpf where fisica_cpf.idpes = fisica.idpes) as cpf, (select documento.rg from cadastro.documento where documento.idpes = fisica.idpes) as rg, (select documento.data_exp_rg from cadastro.documento where documento.idpes = fisica.idpes) as data_exp_rg, (select documento.sigla_uf_exp_rg from cadastro.documento where documento.idpes = fisica.idpes) as sigla_uf_exp_rg, (select orgao_emissor_rg.sigla from cadastro.orgao_emissor_rg, cadastro.documento where orgao_emissor_rg.idorg_rg = documento.idorg_exp_rg AND documento.idpes = fisica.idpes ) as orgao_emissor_rg, (select documento.num_tit_eleitor from cadastro.documento where documento.idpes = fisica.idpes) as num_tit_eleitor, (select documento.zona_tit_eleitor from cadastro.documento where documento.idpes = fisica.idpes) as zona_tit_eleitor, (select documento.secao_tit_eleitor from cadastro.documento where documento.idpes = fisica.idpes) as secao_tit_eleitor, (select documento.tipo_cert_civil from cadastro.documento where documento.idpes = fisica.idpes) as tipo_cert_civil, (select documento.sigla_uf_cert_civil from cadastro.documento where documento.idpes = fisica.idpes) as sigla_uf_cert_civil, (select documento.data_emissao_cert_civil from cadastro.documento where documento.idpes = fisica.idpes) as data_emissao_cert_civil, (select documento.num_termo from cadastro.documento where documento.idpes = fisica.idpes) as num_termo, (select documento.num_livro from cadastro.documento where documento.idpes = fisica.idpes) as num_livro, (select documento.num_folha from cadastro.documento where documento.idpes = fisica.idpes) as num_folha, (select documento.cartorio_cert_civil from cadastro.documento where documento.idpes = fisica.idpes) as cartorio_cert_civil, (select documento.certidao_nascimento from cadastro.documento where documento.idpes = fisica.idpes) as certidao_nascimento, (select ps.nome from cadastro.pessoa ps where ps.idpes = fisica.idpes_responsavel) as nome_responsavel, (select fs.cpf from cadastro.fisica fs where fs.idpes = fisica.idpes_responsavel) as cpf_responsavel, (select fs.sexo from cadastro.fisica fs where fs.idpes = fisica.idpes_responsavel) as sexo_responsavel, (select min(fone_pessoa.ddd) from cadastro.fone_pessoa where fone_pessoa.idpes = fisica.idpes_responsavel) as ddd_responsavel, (select min(fone_pessoa.fone) from cadastro.fone_pessoa where fone_pessoa.idpes = fisica.idpes_responsavel) as fone_responsavel, (select pessoa.email from cadastro.pessoa where pessoa.idpes = fisica.idpes_responsavel) as email_responsavel, (select COALESCE( (select endereco_pessoa.numero from cadastro.endereco_pessoa where endereco_pessoa.idpes = fisica.idpes_responsavel), (select endereco_externo.numero from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as numero_responsavel, (select COALESCE( (select endereco_pessoa.letra from cadastro.endereco_pessoa where endereco_pessoa.idpes = fisica.idpes_responsavel), (select endereco_externo.letra from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as letra_responsavel, (select COALESCE( (select endereco_pessoa.bloco from cadastro.endereco_pessoa where endereco_pessoa.idpes = fisica.idpes_responsavel), (select endereco_externo.bloco from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as bloco_responsavel, (select COALESCE( (select endereco_pessoa.andar from cadastro.endereco_pessoa where endereco_pessoa.idpes = fisica.idpes_responsavel), (select endereco_externo.andar from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as andar_responsavel, (select COALESCE( (select endereco_pessoa.apartamento from cadastro.endereco_pessoa where endereco_pessoa.idpes = fisica.idpes_responsavel), (select endereco_externo.apartamento from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as apartamento_responsavel, (select COALESCE( (select endereco_pessoa.cep from cadastro.endereco_pessoa where endereco_pessoa.idpes = fisica.idpes_responsavel), (select endereco_externo.cep from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as cep_responsavel, (select COALESCE( (select logradouro.nome from public.logradouro, cadastro.endereco_pessoa where logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = fisica.idpes_responsavel ), (select endereco_externo.logradouro from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as logradouro_responsavel, (select COALESCE( (select municipio.nome from public.municipio, public.logradouro, cadastro.endereco_pessoa where municipio.idmun = logradouro.idmun AND logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = fisica.idpes_responsavel), (select endereco_externo.cidade from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as municipio_responsavel, (select COALESCE( (select municipio.sigla_uf from public.municipio, public.logradouro, cadastro.endereco_pessoa where municipio.idmun = logradouro.idmun AND logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = fisica.idpes_responsavel ), (select endereco_externo.sigla_uf from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as sigla_uf_responsavel, (select COALESCE( (select bairro.nome from public.bairro, public.municipio, public.logradouro, cadastro.endereco_pessoa where bairro.idmun = municipio.idmun AND municipio.idmun = logradouro.idmun AND logradouro.idlog = endereco_pessoa.idlog AND endereco_pessoa.idpes = fisica.idpes_responsavel AND endereco_pessoa.idbai = bairro.idbai ), (select endereco_externo.bairro from cadastro.endereco_externo where endereco_externo.idpes = fisica.idpes_responsavel) ) ) as bairro_responsavel, (SELECT COALESCE( (SELECT COALESCE (fcn_upper(ps.nome),fcn_upper(juridica.fantasia)) from cadastro.pessoa ps, cadastro.juridica, pmieducar.escola where escola.ref_idpes = ps.idpes AND ps.idpes = juridica .idpes AND escola.cod_escola = ${escola}), (SELECT nm_escola FROM pmieducar.escola_complemento where ref_cod_escola = ${escola} ))) AS nm_escola, (SELECT CAMINHO FROM CADASTRO.FISICA_FOTO AS FOTO INNER JOIN CADASTRO.PESSOA AS PESSOA ON PESSOA.IDPES = FOTO.IDPES INNER JOIN CADASTRO.FISICA AS FISICA ON PESSOA.IDPES = FISICA.IDPES INNER JOIN PMIEDUCAR.ALUNO AS ALUNO ON ALUNO.REF_IDPES = FISICA.IDPES WHERE aluno.cod_aluno = ${alunoid} ) AS foto FROM pmieducar.instituicao, pmieducar.aluno, cadastro.fisica, cadastro.pessoa WHERE instituicao.cod_instituicao = ${instituicao} AND aluno.ref_idpes = fisica.idpes AND fisica.idpes = pessoa.idpes AND aluno.cod_aluno = ${alunoid}"
},
 "dynamic_field": { "key": "", "value": "" }}
